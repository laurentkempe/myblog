---
import Layout from '../layouts/Layout.astro';
import { getAllPosts } from '../utils/collections';
import PostListItem from '../components/PostListItem.astro';

const sortedPosts = await getAllPosts();

---
<Layout title="Blog">
  <ul class="ml-12 space-y-2 list-disc">
    {sortedPosts.map((post) => 
      <PostListItem
        title={post.data.title}
        date={post.data.date}
        href={post.data.permalink}
        tags={post.data.tags}
      />
    )}
  </ul>
</Layout>