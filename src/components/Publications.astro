---
import { getCollection } from "astro:content";
import PublicationList from "./PublicationList.astro";

const allPosts = await getCollection("posts");
const sortedPosts = allPosts
  .sort(
    (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
  )
  .slice(0, 8);
const allPresentations = await getCollection("presentations");
const sortedPresentations = allPresentations
  .sort(
    (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
  )
  .slice(0, 8);
---

<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <PublicationList 
    title="Blog"
    icon="📖"
    href="/blog/1"
    items={sortedPosts}
  />
  <PublicationList 
    title="Speaking"
    icon="🗣️"
    href="/speaking"
    items={sortedPresentations}
    linkPrefix="/speaking"
  />
</div>
